<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
        <section data-markdown="" data-separator="^\n---$" data-separator-vertical="^\n>>>$">
        <script type="text/template">
## How to contribute to OSS with test  	  

---

## Kazushige Tominaga

![picture](./img/tommy.jpg)
* Github : [@kazu9su](https://github.com/kazu9su)
* Twitter : [@tooooooooomy](https://twitter.com/tooooooooomy)

---

## Today I don't talk about...
* Principle of TDD
* How important test is!
* Something like that

---

## I write test just because I like test:)

---

## OK

---

## An example Open Source Software is...

---

## mastodon
![mastodon](./img/mastodon.jpeg)

---

Someday, I found a spec file...

---

![fetch_atom_spec](./img/fetch_atom_spec.png)

---

## Great

---

## But wait,

---

## There are a lot of rule in test world
* TDD
  - should test all of methods
* BDD
  - should test behavior
* Test only provided public methods
  - included in BDD?

---

# ðŸ¤”

---

## Let's send a Pull Request!

---

![first-pr](./img/first-pr.png)

---

## What is the point?
* Write test just about 1 method
  - Committers can see PR easily
* Write private method's test
  - I can know their testing style explicitly

---

## Let see their reactions...ðŸ‘€

---

![first-pr-result](./img/first-pr-result.png)

---

# Looks my PR perfectðŸ˜‡

---

## OK, so let's go ahead!

---

![pr-second](./img/pr-second.png)

---

![pr-second-result](./img/pr-second-result.png)

---

```
There is no immediate harm in these tests but you should know that
  unit tests should not try to look into private methods or internal variables.
The unit test must confirm the public API of the class works,
  i.e. how other code will use it.
The internal implementation of the class is subject to change (refactoring).
The perfect refactoring is
  when you change the code but don't have to touch the tests.
With tests like these, they would also have to be modified
  if the internal implementation changes in the future.
```

---

## Finally, I can get usable information from the author.
* PR has already marged, but don't be mind :)

---

## I completely understood about it

---

![pr-third](./img/pr-third.png)

---

![pr-third-result](./img/pr-third-result.png)

---

## Looks Good To Me:)

---

## Sample PR list
* https://github.com/tootsuite/mastodon/pull/6439
* https://github.com/tootsuite/mastodon/pull/6446
* https://github.com/tootsuite/mastodon/pull/6455
* https://github.com/tootsuite/mastodon/pull/6456
* https://github.com/tootsuite/mastodon/pull/6500

---

## Conclusion
* Well-known OSS needs tests
* Communicate with committers is the most important
* Make simple, understandable PR
* Enjoy testing

---

### Please introduce me the OSS needs test:)

---

# Thank you!

        </script>
        </section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,
				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
    <style type="text/css">
      .reveal h1,
      .reveal h2,
      .reveal h3,
      .reveal h4,
      .reveal h5,
      .reveal h6 {
        text-transform: none;
      }
    </style>
	</body>
</html>
